(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-128cf583","chunk-9b63d256","chunk-2d0e26e0"],{"02f4":function(e,t,a){var n=a("4588"),l=a("be13");e.exports=function(e){return function(t,a){var o,u,r=String(l(t)),i=n(a),c=r.length;return i<0||i>=c?e?"":void 0:(o=r.charCodeAt(i),o<55296||o>56319||i+1===c||(u=r.charCodeAt(i+1))<56320||u>57343?e?r.charAt(i):o:e?r.slice(i,i+2):u-56320+(o-55296<<10)+65536)}}},"0390":function(e,t,a){"use strict";var n=a("02f4")(!0);e.exports=function(e,t,a){return t+(a?n(e,t).length:1)}},"0bfb":function(e,t,a){"use strict";var n=a("cb7c");e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"19f2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-button",{attrs:{type:"link",size:e.size},on:{click:function(t){return e.moveData()}}},[e._v("添加一个"+e._s(e.config.title))]),e.batchAddBtn?a("a-button",{attrs:{type:"link",size:e.size},on:{click:function(t){return e.hideModal(!0)}}},[e._v("批量设置"+e._s(e.config.title))]):e._e(),a("a-table",{attrs:{columns:e.config.columns,"data-source":e.dataSource,bordered:"",size:e.size,pagination:!1},scopedSlots:e._u([e._l(e.config.columns,(function(t){return{key:t.dataIndex,fn:function(n,l){return["select"===t.inputType?a("a-select",{key:t.dataIndex,attrs:{size:e.size,defaultValue:e.getCellValue(t.dataIndex,t.selectDefault)},on:{change:function(a){return e.setCellValue(t.dataIndex,a)}}},[e._l(t.selectMap,(function(t,n){return[a("a-select-option",{key:t,attrs:{value:t}},[e._v(e._s(n))])]}))],2):a("a-input",{key:t.dataIndex,staticStyle:{margin:"-5px 0"},attrs:{value:n,size:e.size},on:{change:function(a){return e.handleChange(a.target.value,l,t.dataIndex)}}})]}}})),{key:"operation",fn:function(t,n,l){return[a("div",{staticClass:"editable-row-operations"},[a("span",[a("a",{on:{click:function(t){return e.moveData(l,-1)}}},[e._v("上移")]),a("a-divider",{attrs:{type:"vertical"}}),a("a",{on:{click:function(t){return e.moveData(l,1)}}},[e._v("下移")]),a("a-divider",{attrs:{type:"vertical"}}),a("a-popconfirm",{attrs:{title:"您确定要删除吗？","ok-text":"确定","cancel-text":"取消"},on:{confirm:function(t){return e.moveData(l,0)}}},[a("a",[e._v("删除")])])],1)])]}}],null,!0)}),a("a-modal",{attrs:{title:"请输入"+e.config.title,"ok-text":"设置","cancel-text":"关闭"},on:{ok:function(t){return e.hideModal(!1)}},model:{value:e.visibleModel,callback:function(t){e.visibleModel=t},expression:"visibleModel"}},[a("a-textarea",{attrs:{placeholder:"一行一个，冒号(:)、等号（=）、空格或tab分割name和value","auto-size":{minRows:8,maxRows:20}},model:{value:e.modelValue,callback:function(t){e.modelValue=t},expression:"modelValue"}})],1)],1)},l=[],o=(a("57e7"),a("28a5"),a("f3e2"),a("ac6a"),a("e100")),u={name:"tableAndModal",mixins:[o["default"]],props:{editor:Object,cell:Object,config:Object,batchAddBtn:{type:Boolean,default:function(){return!0}}},data:function(){return{visibleModel:!1,modelValue:"",dataSource:[],keyId:Math.random()}},methods:{handleChange:function(e,t,a){t[a]=e,this.setAllDataToCell()},setAllDataToCell:function(){var e=this.config.keys,t={};for(var a in e.forEach((function(e){t[e]=[]})),this.dataSource.forEach((function(e){for(var a in e)"key"!==a&&t[a].push(e[a])})),t)t[a].length>0&&this.setCellValue(a,t[a])},moveData:function(e,t){switch(t){case-1:if(e>0){var a=this.dataSource.splice(e,1);this.dataSource.splice(e-1,0,a[0])}break;case 1:if(e<this.dataSource.length){var n=this.dataSource.splice(e,1);this.dataSource.splice(e+1,0,n[0])}break;case 0:this.dataSource.splice(e,1);break;default:var l=this.config.keys,o={key:this.keyId+this.dataSource.length};l.forEach((function(e){o[e]=""})),this.dataSource.push(o);break}},hideModal:function(e){var t=this;if(this.visibleModel=e,!1===e){var a=this.modelValue.split("\n");a.forEach((function(e){var a=[":","="," ","\t"];for(var n in a){var l=e.indexOf(a[n]);if(-1!==l){var o={key:t.keyId+t.dataSource.length};o[t.config.keyPrefix+"-name"]=e.substring(0,l),o[t.config.keyPrefix+"-value"]=e.substring(l+1),o[t.config.keyPrefix+"-description"]="",t.dataSource.push(o);break}}}))}this.modelValue="",this.setAllDataToCell()},initDataSource:function(){var e=this,t=this.config.keys,a={},n=0;t.forEach((function(t){a[t]=e.getCellValue(t),n=a[t]?a[t].length:0}));for(var l=function(n){var l={key:e.keyId+n};t.forEach((function(e){l[e]=a[e][n]})),e.dataSource.push(l)},o=0;o<n;o++)l(o)}},mounted:function(){this.initDataSource()}},r=u,i=a("2877"),c=Object(i["a"])(r,n,l,!1,null,null,null);t["default"]=c.exports},"214f":function(e,t,a){"use strict";a("b0c5");var n=a("2aba"),l=a("32e9"),o=a("79e5"),u=a("be13"),r=a("2b4c"),i=a("520a"),c=r("species"),s=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var a="ab".split(e);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();e.exports=function(e,t,a){var f=r(e),p=!o((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),v=p?!o((function(){var t=!1,a=/a/;return a.exec=function(){return t=!0,null},"split"===e&&(a.constructor={},a.constructor[c]=function(){return a}),a[f](""),!t})):void 0;if(!p||!v||"replace"===e&&!s||"split"===e&&!d){var h=/./[f],b=a(u,f,""[e],(function(e,t,a,n,l){return t.exec===i?p&&!l?{done:!0,value:h.call(t,a,n)}:{done:!0,value:e.call(a,t,n)}:{done:!1}})),g=b[0],m=b[1];n(String.prototype,e,g),l(RegExp.prototype,f,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})}}},"28a5":function(e,t,a){"use strict";var n=a("aae3"),l=a("cb7c"),o=a("ebd6"),u=a("0390"),r=a("9def"),i=a("5f1b"),c=a("520a"),s=a("79e5"),d=Math.min,f=[].push,p="split",v="length",h="lastIndex",b=4294967295,g=!s((function(){RegExp(b,"y")}));a("214f")("split",2,(function(e,t,a,s){var m;return m="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[v]||2!="ab"[p](/(?:ab)*/)[v]||4!="."[p](/(.?)(.?)/)[v]||"."[p](/()()/)[v]>1||""[p](/.?/)[v]?function(e,t){var l=String(this);if(void 0===e&&0===t)return[];if(!n(e))return a.call(l,e,t);var o,u,r,i=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,p=void 0===t?b:t>>>0,g=new RegExp(e.source,s+"g");while(o=c.call(g,l)){if(u=g[h],u>d&&(i.push(l.slice(d,o.index)),o[v]>1&&o.index<l[v]&&f.apply(i,o.slice(1)),r=o[0][v],d=u,i[v]>=p))break;g[h]===o.index&&g[h]++}return d===l[v]?!r&&g.test("")||i.push(""):i.push(l.slice(d)),i[v]>p?i.slice(0,p):i}:"0"[p](void 0,0)[v]?function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)}:a,[function(a,n){var l=e(this),o=void 0==a?void 0:a[t];return void 0!==o?o.call(a,l,n):m.call(String(l),a,n)},function(e,t){var n=s(m,e,this,t,m!==a);if(n.done)return n.value;var c=l(e),f=String(this),p=o(c,RegExp),v=c.unicode,h=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(g?"y":"g"),x=new p(g?c:"^(?:"+c.source+")",h),y=void 0===t?b:t>>>0;if(0===y)return[];if(0===f.length)return null===i(x,f)?[f]:[];var V=0,k=0,C=[];while(k<f.length){x.lastIndex=g?k:0;var S,_=i(x,g?f:f.slice(k));if(null===_||(S=d(r(x.lastIndex+(g?0:k)),f.length))===V)k=u(f,k,v);else{if(C.push(f.slice(V,k)),C.length===y)return C;for(var E=1;E<=_.length-1;E++)if(C.push(_[E]),C.length===y)return C;k=V=S}}return C.push(f.slice(V)),C}]}))},"520a":function(e,t,a){"use strict";var n=a("0bfb"),l=RegExp.prototype.exec,o=String.prototype.replace,u=l,r="lastIndex",i=function(){var e=/a/,t=/b*/g;return l.call(e,"a"),l.call(t,"a"),0!==e[r]||0!==t[r]}(),c=void 0!==/()??/.exec("")[1],s=i||c;s&&(u=function(e){var t,a,u,s,d=this;return c&&(a=new RegExp("^"+d.source+"$(?!\\s)",n.call(d))),i&&(t=d[r]),u=l.call(d,e),i&&u&&(d[r]=d.global?u.index+u[0].length:t),c&&u&&u.length>1&&o.call(u[0],a,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(u[s]=void 0)})),u}),e.exports=u},"5f1b":function(e,t,a){"use strict";var n=a("23c6"),l=RegExp.prototype.exec;e.exports=function(e,t){var a=e.exec;if("function"===typeof a){var o=a.call(e,t);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==n(e))throw new TypeError("RegExp#exec called on incompatible receiver");return l.call(e,t)}},"7f50":function(e,t,a){"use strict";a.r(t),a.d(t,"listRequest",(function(){return l})),a.d(t,"deleteRequest",(function(){return o})),a.d(t,"detailRequest",(function(){return u})),a.d(t,"saveRequest",(function(){return r})),a.d(t,"testRequest",(function(){return i})),a.d(t,"allRequest",(function(){return c}));var n=a("4020"),l=function(e,t,a){n["default"].send("datasource/list",e,t,a)},o=function(e,t,a){n["default"].send("datasource/delete",{id:e},t,a)},u=function(e,t,a){n["default"].send("datasource/get",{id:e},t,a)},r=function(e,t,a){delete e.createDate,n["default"].send("datasource/save",e,t,a)},i=function(e,t,a){delete e.createDate,n["default"].send("datasource/test",e,t,a)},c=function(e,t){n["default"].send("datasource/all",null,e,t)}},aae3:function(e,t,a){var n=a("d3f4"),l=a("2d95"),o=a("2b4c")("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==l(e))}},b0c5:function(e,t,a){"use strict";var n=a("520a");a("5ca1")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},bf12:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-tabs",{attrs:{size:"small"}},[a("a-tab-pane",{key:"config",attrs:{tab:"配置"}},[a("a-form",{attrs:{"label-col":e.formItemLayout.labelCol,"wrapper-col":e.formItemLayout.wrapperCol}},[a("a-row",[a("a-col",{attrs:{span:6}},[a("a-form-item",{attrs:{label:"节点名称"}},[a("a-input",{attrs:{placeholder:"请输入节点名称",size:e.size,defaultValue:e.cell.value},on:{change:function(t){return e.cell.value=t.target.value}}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{attrs:{label:"循环变量"}},[a("a-input",{attrs:{size:e.size,defaultValue:e.getCellValue("loopVariableName")},on:{change:function(t){return e.setCellValue("loopVariableName",t)}}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{attrs:{label:"循环次数"}},[a("a-input",{attrs:{size:e.size,defaultValue:e.getCellValue("loopCount")},on:{change:function(t){return e.setCellValue("loopCount",t)}}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{attrs:{label:"输出设置"}},[a("spider-select",{attrs:{editor:e.editor,cell:e.cell,options:[{label:"输出全部参数",value:"output-all",defaultVal:"0"}]}})],1)],1),a("a-col",{attrs:{span:6}},[a("a-form-item",{attrs:{label:"数据输出"}},[a("spider-select",{attrs:{editor:e.editor,cell:e.cell,options:e.outputSelectConfig},on:{change:function(t){return e.outputSelectValue=t}}})],1)],1),e.outputSelectValue.length>0?a("a-col",{attrs:{span:18}},[a("a-form-item",{attrs:{label:"数据源",labelCol:{span:4},wrapperCol:{span:20}}},[a("a-row",[-1!==e.outputSelectValue.indexOf("output-database")?a("a-col",{attrs:{span:6}},[a("a-select",{attrs:{size:e.size,defaultValue:e.getCellValue("datasourceId")},on:{change:function(t){return e.setCellValue("datasourceId",t)}}},e._l(e.listDatabase,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1):e._e(),-1!==e.outputSelectValue.indexOf("output-database")?a("a-col",{attrs:{span:5,offset:1}},[a("a-input",{attrs:{size:e.size,placeholder:"请输入表名",defaultValue:e.getCellValue("tableName")},on:{change:function(t){return e.setCellValue("tableName",t)}}})],1):e._e(),-1!==e.outputSelectValue.indexOf("output-csv")?a("a-col",{attrs:{span:5,offset:1}},[a("a-input",{attrs:{size:e.size,placeholder:"请输入文件名",defaultValue:e.getCellValue("csvName")},on:{change:function(t){return e.setCellValue("csvName",t)}}})],1):e._e(),-1!==e.outputSelectValue.indexOf("output-csv")?a("a-col",{attrs:{span:5,offset:1}},[a("a-select",{attrs:{size:e.size,defaultValue:e.getCellValue("csvEncoding","GBK")},on:{change:function(t){return e.setCellValue("csvEncoding",t)}}},[a("a-select-option",{attrs:{value:"GBK"}},[e._v("GBK")]),a("a-select-option",{attrs:{value:"UTF-8"}},[e._v("UTF-8")]),a("a-select-option",{attrs:{value:"UTF-8BOM"}},[e._v("UTF-8 BOM")])],1)],1):e._e()],1)],1)],1):e._e()],1),a("table-and-modal",{attrs:{batchAddBtn:!1,editor:e.editor,cell:e.cell,config:e.tableConfig}})],1)],1)],1)},l=[],o=a("e100"),u=a("19f2"),r=a("f4c4"),i=a("7f50"),c={mixins:[o["default"]],components:{TableAndModal:u["default"],SpiderSelect:r["default"]},props:{editor:Object,cell:Object},data:function(){return{tableConfig:{title:"输出项",keyPrefix:"parameter-form",keys:["output-name","output-value"],columns:[{title:"输出项",dataIndex:"output-name",width:150,scopedSlots:{customRender:"output-name"}},{title:"输出值",dataIndex:"output-value",scopedSlots:{customRender:"output-value"}},{title:"操作",dataIndex:"operation",width:150,scopedSlots:{customRender:"operation"}}]},outputSelectConfig:[{label:"输出到数据库",value:"output-database",defaultVal:"0"},{label:"输出到CSV文件",value:"output-csv",defaultVal:"0"}],outputSelectValue:[],listDatabase:[]}},methods:{getAllDatabase:function(){var e=this;Object(i["allRequest"])((function(t){e.listDatabase=t}))}},mounted:function(){this.getAllDatabase()}},s=c,d=a("2877"),f=Object(d["a"])(s,n,l,!1,null,null,null);t["default"]=f.exports},f4c4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-checkbox-group",{attrs:{options:e.options,"default-value":e.valueHandle()},on:{change:e.valueHandle}})},l=[],o=(a("57e7"),a("ac6a"),a("f3e2"),a("e100")),u={name:"tableAndModal",mixins:[o["default"]],props:{editor:Object,cell:Object,options:Array},methods:{valueHandle:function(e){var t=this,a=[];return void 0===e?this.options.forEach((function(e){"1"===t.getCellValue(e.value,e.defaultVal)?(a.push(e.value),t.setCellValue(e.value,"1")):t.setCellValue(e.value,"0")})):(this.options.forEach((function(a){-1===e.indexOf(a.value)?t.setCellValue(a.value,"0"):t.setCellValue(a.value,"1")})),this.$emit("change",e),this.$emit("input",e)),a}},mounted:function(){this.bodyTypeValue=this.getCellValue("body-type","none")}},r=u,i=a("2877"),c=Object(i["a"])(r,n,l,!1,null,null,null);t["default"]=c.exports}}]);